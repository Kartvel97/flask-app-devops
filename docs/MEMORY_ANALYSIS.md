# üìä –ê–Ω–∞–ª–∏–∑ –ø–∞–º—è—Ç–∏ –∏ —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã 504

## –¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è

### –†–∞–∑–º–µ—Ä –∏–Ω—Å—Ç–∞–Ω—Å–∞ –≤ Terraform:
```terraform
instance_type = "t3.micro"  # —Å—Ç—Ä–æ–∫–∞ 292 –≤ terraform/main.tf
```

### –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ t3.micro:
- **RAM:** 1 GB (1024 MB)
- **vCPU:** 2 (—Å burst capability)
- **–°—Ç–æ–∏–º–æ—Å—Ç—å:** ~$7.5/–º–µ—Å—è—Ü (–∏–ª–∏ –±–µ—Å–ø–ª–∞—Ç–Ω–æ –≤ Free Tier –ø–µ—Ä–≤—ã–µ 12 –º–µ—Å—è—Ü–µ–≤)

### –¢–µ–∫—É—â–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏:

**–í—Å–µ–≥–æ RAM:** 914 MiB (1 GB)
**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:** ~649 MiB
**–î–æ—Å—Ç—É–ø–Ω–æ:** —Ç–æ–ª—å–∫–æ ~106 MiB

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º:**
- Grafana: 83.88 MiB (9.18%)
- Prometheus: 72.37 MiB (7.92%)
- Loki: 63.2 MiB (6.91%)
- cAdvisor: 56.48 MiB (6.18%)
- Flask App: 52.67 MiB (5.76%)
- Promtail: 45.11 MiB (4.93%)
- Node Exporter: 21.69 MiB (2.37%)
- Alertmanager: 15.53 MiB (1.70%)
- **–ò—Ç–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:** ~410 MiB
- **–°–∏—Å—Ç–µ–º–∞ + Docker:** ~240 MiB
- **–ò—Ç–æ–≥–æ:** ~650 MiB –∏–∑ 914 MiB

## –ü—Ä–æ–±–ª–µ–º–∞

**–ù–µ —Ö–≤–∞—Ç–∞–µ—Ç ~200-300 MiB –ø–∞–º—è—Ç–∏** –¥–ª—è –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.

–ü—Ä–∏ –ø–∏–∫–æ–≤–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ:
- –°–∏—Å—Ç–µ–º–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å swap (–Ω–æ –µ–≥–æ –Ω–µ—Ç!)
- –ü—Ä–æ—Ü–µ—Å—Å—ã –º–æ–≥—É—Ç –±—ã—Ç—å —É–±–∏—Ç—ã OOM killer'–æ–º
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∞–µ—Ç ‚Üí 504 –æ—à–∏–±–∫–∞

## –†–µ—à–µ–Ω–∏—è

### 1. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å Swap (–ë–ï–°–ü–õ–ê–¢–ù–û, –±—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ)

**–ü–ª—é—Å—ã:**
- –ë–µ—Å–ø–ª–∞—Ç–Ω–æ
- –ë—ã—Å—Ç—Ä–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è
- –ü–æ–º–æ–≥–∞–µ—Ç –ø—Ä–∏ –∫—Ä–∞—Ç–∫–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–∏–∫–∞—Ö –Ω–∞–≥—Ä—É–∑–∫–∏

**–ú–∏–Ω—É—Å—ã:**
- –ú–µ–¥–ª–µ–Ω–Ω–µ–µ RAM (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–∏—Å–∫)
- –ù–µ —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É –ø–æ–ª–Ω–æ—Å—Ç—å—é

**–°—Ç–æ–∏–º–æ—Å—Ç—å:** $0

### 2. ‚ö° –£–≤–µ–ª–∏—á–∏—Ç—å —Ä–∞–∑–º–µ—Ä –∏–Ω—Å—Ç–∞–Ω—Å–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

#### –í–∞—Ä–∏–∞–Ω—Ç A: t3.small
- **RAM:** 2 GB
- **vCPU:** 2
- **–°—Ç–æ–∏–º–æ—Å—Ç—å:** ~$15/–º–µ—Å—è—Ü (~$0.0208/—á–∞—Å)
- **–í Free Tier:** –ù–µ—Ç (—Ç–æ–ª—å–∫–æ t2.micro/t3.micro)

#### –í–∞—Ä–∏–∞–Ω—Ç B: t3.medium
- **RAM:** 4 GB
- **vCPU:** 2
- **–°—Ç–æ–∏–º–æ—Å—Ç—å:** ~$30/–º–µ—Å—è—Ü (~$0.0416/—á–∞—Å)

### 3. üîß –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏

- –£–º–µ–Ω—å—à–∏—Ç—å retention –¥–ª—è Prometheus
- –û—Ç–∫–ª—é—á–∏—Ç—å –Ω–µ–Ω—É–∂–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Grafana

## AWS Free Tier

### –ß—Ç–æ –≤—Ö–æ–¥–∏—Ç –≤ Free Tier (–ø–µ—Ä–≤—ã–µ 12 –º–µ—Å—è—Ü–µ–≤):

‚úÖ **t2.micro –∏–ª–∏ t3.micro:**
- 750 —á–∞—Å–æ–≤/–º–µ—Å—è—Ü –±–µ—Å–ø–ª–∞—Ç–Ω–æ
- –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è 1 –∏–Ω—Å—Ç–∞–Ω—Å–∞ 24/7

‚ùå **t3.small –∏ –±–æ–ª—å—à–µ:**
- –ù–ï –≤—Ö–æ–¥—è—Ç –≤ Free Tier
- –ü–ª–∞—Ç–Ω—ã–µ —Å –ø–µ—Ä–≤–æ–≥–æ –¥–Ω—è

### –ü–æ—Å–ª–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è Free Tier:

- **t3.micro:** ~$7.5/–º–µ—Å—è—Ü
- **t3.small:** ~$15/–º–µ—Å—è—Ü
- **t3.medium:** ~$30/–º–µ—Å—è—Ü

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏/—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
1. –î–æ–±–∞–≤–∏—Ç—å swap (1-2 GB) - –±–µ—Å–ø–ª–∞—Ç–Ω–æ
2. –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
3. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ t3.small

### –î–ª—è production:
1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–∏–Ω–∏–º—É–º t3.small (2 GB RAM)
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å swap –∫–∞–∫ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –∑–∞—â–∏—Ç—É
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–ª–µ—Ä—Ç—ã

## –ß—Ç–æ –¥–µ–ª–∞—Ç—å —Å–µ–π—á–∞—Å?

**–ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ (–±–µ—Å–ø–ª–∞—Ç–Ω–æ):**
- –î–æ–±–∞–≤–∏—Ç—å swap 1-2 GB

**–î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ:**
- –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ t3.small (2 GB RAM) - ~$15/–º–µ—Å—è—Ü
- –ò–ª–∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏

